\documentclass[12pt]{article}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{color}
\usepackage{graphicx}
\usepackage{mdframed}
\usepackage{listings, xcolor}
\usepackage{textcomp}

\definecolor{verylightgray}{rgb}{.97,.97,.97}

\lstdefinelanguage{myC}{
        keywords=[1]{break, case, continue, default, do
, else, false, for, if, const, return, switch, true, while}, % generic keywords
        keywordstyle=[1]\color{blue}\bfseries,
        keywords=[2]{bool, int, long, float, double, byte, short, char, void, signed, unsigned}, % types
        keywordstyle=[2]\color{teal}\bfseries,
        keywordstyle=[2]\color{violet}\bfseries,
        keywords=[3]{NULL},
        keywordstyle=[3]\color{violet}\bfseries,
        identifierstyle=\color{black},
        sensitive=false,
        comment=[l]{//},
        morecomment=[s]{/*}{*/},
        commentstyle=\color{violet}\ttfamily,
        commentstyle=\scriptsize\ttfamily\color{myGreen},
        stringstyle=\color{red}\ttfamily,
        morestring=[b]',
        morestring=[b]"
}

\lstset{
        language=myC,
        backgroundcolor=\color{verylightgray},
        extendedchars=true,
        basicstyle=\small\ttfamily,
        showstringspaces=false,
        showspaces=false,
        numbers=none,
        numberstyle=\small,
        numbersep=9pt,
        tabsize=2,
        upquote=true,
        breaklines=true,
        showtabs=false,
        captionpos=b
}

\definecolor{myBlue}{rgb}{0.5,0.5,1}
\definecolor{myLightBlue}{rgb}{0.35,0.6,0.8}
\definecolor{myBlack}{rgb}{0,0,0}
\definecolor{myGreen}{rgb}{0.1,0.6,0.2}
\definecolor{myGray}{rgb}{0.5,0.5,0.5}
\definecolor{myLightgray}{rgb}{0.95,0.95,0.95}
\definecolor{myMauve}{rgb}{0.58,0,0.82}

\lstdefinelanguage{customc}{
    language=C,
    backgroundcolor = \color{myLightgray},
    basicstyle=\scriptsize\ttfamily\color{myBlack},
    keywordstyle=\color{myLightBlue},
    keywordstyle=[2]\color{red},
    commentstyle=\scriptsize\ttfamily\color{myGreen},
    morekeywords={RequirePackage,ProvidesPackage},
    %
    % The special highlighting works for '!if', '!endif' and '!else'
    % But it doesn't work for '#if', '#endif' and '#else'.
    alsoletter = {!},
    keywords=[2]{!if,!endif,!else},
}

\lstdefinestyle{myCustomc}{
    language = customc,
    % keywordstyle = \color{myMauve},
}

\lstset{escapechar=@,style=myCustomc}


\definecolor{grey}{rgb}{0.3,0.3,0.3}
\definecolor{lightgrey}{rgb}{0.9,0.9,0.9}

\thispagestyle{empty}
\setlength{\textwidth}{18.5cm}
\setlength{\topmargin}{-2.5cm}
\setlength{\textheight}{24.5cm}
\setlength{\oddsidemargin}{-1cm}
\setlength{\evensidemargin}{-1cm}
\begin{document}
\begin{center}{\LARGE Secondo parziale di Programmazione I - Bioinformatica}\\
%\vspace*{-1ex}
\begin{center}
  \large 16 giugno 2021 (tempo disponibile: 2 ore)
\end{center}
\end{center}
\input{indicazioni_generali.tex}

% ESERCIZIO 1
\vspace*{1ex}
\begin{center}{\Large Esercizio 1} ($15$ punti)\\
  \textbf{(si consegni \texttt{vowel\_list.c})}
\end{center}
Si completi il seguente programma \texttt{vowel\_list.c}, la cui funzione \texttt{main()} crea, a partire da una stringa, una lista di nodi, ciascuno dei quali contiene un carattere. Quindi, stampa i valori dei nodi della lista, raddoppia i nodi con vocali e stampa nuovamente la lista:
\begin{center}
\begin{lstlisting}[language=myC]
int main() {
    char s[] = "hello darkness my old friend";
    struct node_t *head = new_list(s);

    print_list(head);
    printf("\n");

    double_vowels(head);
    print_list(head);
    printf("\n");
    return 0;
}
\end{lstlisting}
\end{center}
La sua esecuzione dovr\`a stampare sul video:
\begin{mdframed}[backgroundcolor=lightgrey] 
\begin{verbatim}
hello darkness my old friend
heelloo daarkneess my oold friieend
\end{verbatim}
\end{mdframed}

\newpage
% ESERCIZIO 2
\begin{center}{\Large Esercizio 2} ($9$ punti)\\
  \textbf{(si consegni \texttt{matrice.c})}\end{center}
Sia dato un file che contiene una matrice rettangolare di interi positivi (massimo $100\times200$) preceduta dalle sue dimensioni (separate dal carattere ``X'') Come esempio si consideri il file ``in.txt'' con il seguente contenuto:

\begin{tabular}{llllll}
\\
\multicolumn{3}{l}{5X6}&&&\\
1& 3& 4& 8& 9&5\\
0&0&0&0&0&0\\
3& 2& 5&2& 0& 0\\
2& 3& 3& 3& 0& 1\\ 
0& 1& 1& 1& 1& 1\\
\end{tabular}
\\
\\
Scrivere una funzione C che prenda il nome di un file siffatto e produca un file ``out.txt'' eliminando le righe che hanno come primo valore 0 ed invertendo l’ordine delle righe. 

Il numero di righe (nella prima riga, quella delle dimensioni) deve essere riscritto in modo che corrisponda alle righe della nuova matrice.

Nell’esempio di cui sopra il contenuto del file al termine dell’esecuzione deve essere il seguente.\\

\begin{tabular}{llllll}
\multicolumn{3}{l}{3X6}&&&\\
2& 3& 3& 3& 0& 1\\ 
3& 2& 5& 2& 0& 0\\
1& 3& 4& 8& 9& 5\\
\end{tabular}


% ESERCIZIO 3
\vspace{8ex}
\begin{center}{\Large Esercizio 3} ($9$ punti)\\
  \textbf{(si consegni \texttt{ricorsione.c})}
\end{center}
Si completi il seguente programma \texttt{ricorsione.c} che implementa la versione ricorsiva della funzione \emph{double  calcola(double a, int n);} che calcola il seguente valore: \[ \sum_{i=1}^{n}(a - \frac{i}{a}) \]

%La versione iterativa viene riportata più sotto:
%\begin{lstlisting}[language=C]
%
%double calcola(double a, int n)
%{ 
%	int i=1;
%	double sum=0;
%	while(i<=n) 
%	{
%		sum = sum + a - i/a;
%		i++;
%	}
%	return  sum;
%}
%\end{lstlisting}
La sua esecuzione con input a=5 e n=4 dovr\`a stampare sul video:
\begin{mdframed}[backgroundcolor=lightgrey] 
\begin{verbatim}
18.000000
\end{verbatim}
\end{mdframed}

\end{document}
